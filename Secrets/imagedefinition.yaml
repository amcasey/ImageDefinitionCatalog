$schema: 1.0
name: secret-test
image: microsoftwindowsdesktop_windows-ent-cpc_win11-24H2-ent-cpc
tasks:
  - name: ~/powershell
    parameters:
      command: echo hello
  - name: git-clone
    description: Clone this repository
    parameters:
      repositoryUrl: https://github.com/amcasey/PrivateRepo.git
      directory: C:\repo_nopat
  - name: git-clone
    description: Clone this repository
    parameters:
      repositoryUrl: https://github.com/amcasey/PrivateRepo.git
      directory: C:\repo_pat1
      pat: "{{https://acasey-secret-custkv.vault.azure.net/secrets/ghpat}}"
  - name: git-clone
    description: Clone this repository
    parameters:
      repositoryUrl: https://github.com/amcasey/PrivateRepo.git
      directory: C:\repo_pat2
      pat: "{{ https://acasey-secret-custkv.vault.azure.net/secrets/ghpat }}"
  - name: git-clone
    description: Clone this repository
    parameters:
      repositoryUrl: https://github.com/amcasey/PrivateRepo.git
      directory: C:\repo_pat3
      pat: {{https://acasey-secret-custkv.vault.azure.net/secrets/ghpat}}
